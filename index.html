<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz M√†u S·∫Øc Ho√†n Thi·ªán</title>
    <style>
        /* === 1. CSS CHUNG === */
        body {
            font-family: 'Arial', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: #f4f4f9;
            margin: 0;
            padding: 20px;
        }

        .quiz-container {
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 500px;
            text-align: center;
        }

        h1 { color: #2c3e50; margin-bottom: 5px; }
        .instruction { color: #7f8c8d; margin-bottom: 25px; }
        
        /* === 2. CSS V√ôNG C√ÇU H·ªéI V√Ä ƒê√ÅP √ÅN === */
        #questionCounter {
            font-weight: bold;
            color: #3498db;
            margin-bottom: 15px;
        }

        .question-area {
            background-color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        #colorQuestion {
            width: 80px;
            height: 80px;
            margin: 10px auto;
            border-radius: 50%;
            border: 4px solid #bdc3c7;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        
        #vietnameseQuestion {
            font-size: 1.4em;
            font-weight: bold;
            color: #34495e;
            margin-top: 10px;
        }

        .answers {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .answer-btn {
            padding: 15px 10px;
            font-size: 1.1em;
            font-weight: bold;
            border: 2px solid #3498db;
            border-radius: 8px;
            background-color: #ecf0f1;
            color: #2c3e50;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
        }

        .answer-btn:hover:not(:disabled) {
            background-color: #3498db;
            color: white;
            transform: translateY(-2px);
        }
        
        .answer-btn:disabled {
            cursor: default;
            opacity: 1; /* Gi·ªØ nguy√™n ƒë·ªô ƒë·∫≠m khi disabled */
        }
        .correct-answer { background-color: #2ecc71 !important; color: white !important; border-color: #2ecc71 !important; }
        .wrong-answer { background-color: #e74c3c !important; color: white !important; border-color: #e74c3c !important; }
        
        #feedback { font-size: 1.3em; font-weight: bold; min-height: 25px; margin-bottom: 10px; }
        .correct-text { color: #2ecc71; }
        .wrong-text { color: #e74c3c; }

        /* === 3. CSS K·∫æT QU·∫¢ & N√öT === */
        #nextButton, #resultButton, #retryButton {
            padding: 12px 25px;
            font-size: 1.1em;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }

        #nextButton { background-color: #e67e22; color: white; display: none; }
        #resultButton { background-color: #3498db; color: white; display: none; }
        #retryButton { background-color: #2ecc71; color: white; margin-left: 10px; }

        #resultScreen {
            padding: 20px;
            text-align: left;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin-top: 20px;
            display: none;
        }
        .result-item { margin-bottom: 15px; border-bottom: 1px dashed #eee; padding-bottom: 10px; }
        .result-item:last-child { border-bottom: none; }
        .result-color-display {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            vertical-align: middle;
            margin-right: 10px;
            border: 1px solid #333;
        }
        .summary { font-size: 1.5em; font-weight: bold; margin-bottom: 20px; }

    </style>
</head>
<body>

    <div class="quiz-container">
        <h1>B√ÄI KI·ªÇM TRA M√ÄU S·∫ÆC</h1>
        <p class="instruction">B·∫°n c·∫ßn ho√†n th√†nh 16 c√¢u h·ªèi ƒë·ªÉ xem k·∫øt qu·∫£.</p>

        <div id="quizScreen">
            <div id="questionCounter">C√¢u h·ªèi 1 / 16</div>
            <div class="question-area">
                <div id="colorQuestion"></div>
                <div id="vietnameseQuestion"></div>
            </div>

            <div class="answers" id="answerButtons">
                </div>

            <div id="feedback"></div>

            <button id="nextButton" onclick="nextQuestion()">Ti·∫øp T·ª•c ‚Üí</button>
            <button id="resultButton" onclick="showResults()">Xem K·∫øt Qu·∫£</button>
        </div>

        <div id="resultScreen">
            <div class="summary"></div>
            <div id="resultDetails"></div>
            <button id="retryButton" onclick="resetQuiz(true)">L√†m L·∫°i (ƒê·∫£o th·ª© t·ª±)</button>
            <button id="backToQuizButton" onclick="resetQuiz(false)">L√†m L·∫°i (Gi·ªØ th·ª© t·ª±)</button>
        </div>
    </div>

    <script>
        // === 2. JAVASCRIPT X·ª¨ L√ù LOGIC QUIZ ===

        // D·ªØ li·ªáu g·ªëc 16 m√†u
        const allColors = [
            { en: "BLACK", vn: "ƒêEN", hex: "#000000" },
            { en: "BLUE", vn: "XANH D∆Ø∆†NG", hex: "#0086FF" },
            { en: "SKY BLUE", vn: "XANH DA TR·ªúI", hex: "#87CEEB" },
            { en: " LIGHT BROWN", vn: "N√ÇU NH·∫†T", hex: "#ae6318" },
            { en: "DARK BROWN", vn: "N√ÇU ƒê·∫¨M", hex: "#4e3215" },
            { en: "BROWN", vn: "N√ÇU", hex: "#964B00" },
            { en: "GREEN", vn: "XANH L√Å C√ÇY", hex: "#008000" },
            { en: "LIGHT GREEN", vn: "XANH L√Å L·ª¢T", hex: "#90EE90" },
            { en: "DARK GREEN", vn: "XANH L√Å ƒê·∫¨M", hex: "#0f5e0f" },
            { en: "VIOLET", vn: "T√çM", hex: "#8A2BE2" },
            { en: "LAVENDER", vn: "T√çM NH·∫†T", hex: "#E6E6FA" },
            { en: "GREY", vn: "X√ÅM", hex: "#A9A9A9" },
            { en: "DARK GREY", vn: "X√ÅM ƒê·∫¨M", hex: "#808080" },
            { en: "LIGHT GREY", vn: "X√ÅM NH·∫†T", hex: "#c3c3c3" },
            { en: "DARK RED", vn: "ƒê·ªé ƒê·∫¨M", hex: "#af0000" },
            { en: "LIGHT RED", vn: "ƒê·ªé NH·∫†T", hex: "#f96464" },
            { en: "RED", vn: "ƒê·ªé", hex: "#FF0000" },
            { en: "LIGHT YELLOW", vn: "V√ÄNG NH·∫†T", hex: "#f3f38e" },
            { en: "DARK YELLOW", vn: "V√ÄNG ƒê·∫¨M", hex: "#c5c503" },
            { en: "YELLOW", vn: "V√ÄNG", hex: "#FFFF00" },
            { en: "PINK", vn: "H·ªíNG", hex: "#FFC0CB" },
            { en: "LIGHT PINK", vn: "H·ªíNG NH·∫†T", hex: "#f9cad2" },
            { en: "DARK PINK", vn: "H·ªíNG ƒê·∫¨M", hex: "#fa94a6" },
            { en: "ORANGE", vn: "CAM", hex: "#FFA500" },
            { en: "WHITE", vn: "TR·∫ÆNG", hex: "#FFFFFF" },
            { en: "BEIGE", vn: "M√ÄU BE", hex: "#E5CB9B" },
            
        ];
        
        let questionsOrder = []; // Th·ª© t·ª± c√°c m√†u s·∫Ω ƒë∆∞·ª£c h·ªèi
        let currentQuestionIndex = 0;
        let quizResults = []; // L∆∞u tr·ªØ k·∫øt qu·∫£: {color, isCorrect, selectedAnswer}

        // H√†m x√°o tr·ªôn m·∫£ng (Fisher-Yates Shuffle)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // --- H√ÄM T·∫†O V√Ä T·∫¢I QUIZ ---

        // H√†m kh·ªüi t·∫°o/reset Quiz
        function resetQuiz(shuffle) {
            // Kh√¥i ph·ª•c m√†n h√¨nh
            document.getElementById('resultScreen').style.display = 'none';
            document.getElementById('quizScreen').style.display = 'block';

            // Thi·∫øt l·∫≠p th·ª© t·ª± c√¢u h·ªèi
            questionsOrder = Array.from(allColors);
            if (shuffle) {
                shuffleArray(questionsOrder);
            }
            
            currentQuestionIndex = 0;
            quizResults = [];
            loadQuestion();
        }

        // H√†m t·∫£i c√¢u h·ªèi hi·ªán t·∫°i
        function loadQuestion() {
            // X√≥a tr·∫°ng th√°i c≈©
            document.getElementById('feedback').textContent = '';
            document.getElementById('nextButton').style.display = 'none';
            document.getElementById('resultButton').style.display = 'none';
            document.getElementById('answerButtons').innerHTML = '';
            document.getElementById('questionCounter').textContent = `C√¢u h·ªèi ${currentQuestionIndex + 1} / ${questionsOrder.length}`;

            // L·∫•y m√†u hi·ªán t·∫°i
            const currentColor = questionsOrder[currentQuestionIndex];
            const correctColorIndex = allColors.findIndex(c => c.en === currentColor.en);
            const correctEnName = currentColor.en;
            
            // 1. Chu·∫©n b·ªã ƒë√°p √°n ng·∫´u nhi√™n
            let wrongColors = allColors.filter((_, index) => index !== correctColorIndex);
            shuffleArray(wrongColors);
            
            const wrongAnswers = wrongColors.slice(0, 3).map(color => color.en);
            const allAnswers = [correctEnName, ...wrongAnswers];
            shuffleArray(allAnswers);

            // 2. Hi·ªÉn th·ªã c√¢u h·ªèi (√î m√†u + T√™n VN)
            const colorDisplay = document.getElementById('colorQuestion');
            const vnQuestionText = document.getElementById('vietnameseQuestion');
            
            colorDisplay.style.backgroundColor = currentColor.hex;
            colorDisplay.style.border = (currentColor.hex === "#FFFFFF" || currentColor.hex === "#F5F5DC") ? "4px solid #333" : "4px solid #bdc3c7";
            vnQuestionText.textContent = currentColor.vn.toUpperCase();

            // 3. Hi·ªÉn th·ªã c√°c n√∫t ƒë√°p √°n
            const answerButtonsContainer = document.getElementById('answerButtons');
            allAnswers.forEach(answer => {
                const button = document.createElement('button');
                button.textContent = answer;
                button.classList.add('answer-btn');
                button.onclick = () => checkAnswer(button, answer, correctEnName);
                answerButtonsContainer.appendChild(button);
                button.disabled = false; // ƒê·∫£m b·∫£o n√∫t ƒë∆∞·ª£c k√≠ch ho·∫°t
            });
        }
        
        // --- H√ÄM KI·ªÇM TRA ƒê√ÅP √ÅN ---

        function checkAnswer(selectedButton, selectedAnswer, correctAnswer) {
            const feedback = document.getElementById('feedback');
            
            // 1. V√¥ hi·ªáu h√≥a t·∫•t c·∫£ c√°c n√∫t
            document.querySelectorAll('.answer-btn').forEach(btn => btn.disabled = true);
            
            const isCorrect = selectedAnswer === correctAnswer;

            // 2. L∆∞u k·∫øt qu·∫£
            const currentColor = questionsOrder[currentQuestionIndex];
            quizResults[currentQuestionIndex] = {
                color: currentColor,
                isCorrect: isCorrect,
                selectedAnswer: selectedAnswer
            };

            // 3. Hi·ªÉn th·ªã ph·∫£n h·ªìi
            if (isCorrect) {
                feedback.textContent = "Ch√≠nh x√°c! üéâ";
                feedback.className = 'correct-text';
                selectedButton.classList.add('correct-answer');
            } else {
                feedback.textContent = `Sai r·ªìi. üòî ƒê√°p √°n ƒë√∫ng l√† ${correctAnswer}`;
                feedback.className = 'wrong-text';
                selectedButton.classList.add('wrong-answer');

                // Highlight ƒë√°p √°n ƒë√∫ng
                document.querySelectorAll('.answer-btn').forEach(btn => {
                    if (btn.textContent === correctAnswer) {
                        btn.classList.add('correct-answer');
                    }
                });
            }

            // 4. Hi·ªÉn th·ªã n√∫t Ti·∫øp t·ª•c/Xem k·∫øt qu·∫£
            if (currentQuestionIndex < questionsOrder.length - 1) {
                document.getElementById('nextButton').style.display = 'block';
            } else {
                document.getElementById('resultButton').style.display = 'block';
            }
        }
        
        // --- H√ÄM CHUY·ªÇN C√ÇU H·ªéI ---

        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion();
        }

        // --- H√ÄM HI·ªÇN TH·ªä K·∫æT QU·∫¢ ---

        function showResults() {
            document.getElementById('quizScreen').style.display = 'none';
            const resultScreen = document.getElementById('resultScreen');
            resultScreen.style.display = 'block';

            const correctCount = quizResults.filter(r => r.isCorrect).length;
            const wrongCount = quizResults.length - correctCount;

            // Hi·ªÉn th·ªã t√≥m t·∫Øt
            const summary = document.querySelector('.summary');
            summary.innerHTML = `B·∫°n ƒë√£ ho√†n th√†nh! <br>ƒê√∫ng: <span class="correct-text">${correctCount}</span> | Sai: <span class="wrong-text">${wrongCount}</span>`;

            // Hi·ªÉn th·ªã chi ti·∫øt t·ª´ng c√¢u
            const detailsContainer = document.getElementById('resultDetails');
            detailsContainer.innerHTML = '<h3>Chi Ti·∫øt T·ª´ng C√¢u:</h3>';

            quizResults.forEach((result, index) => {
                const item = document.createElement('div');
                item.classList.add('result-item');
                const status = result.isCorrect ? 'ƒê√öNG' : 'SAI';
                const statusClass = result.isCorrect ? 'correct-text' : 'wrong-text';
                const colorDisplay = `<span class="result-color-display" style="background-color: ${result.color.hex}; border-color: ${(result.color.hex === "#FFFFFF" || result.color.hex === "#F5F5DC") ? "#333" : result.color.hex};"></span>`;

                item.innerHTML = `
                    <p>
                        ${colorDisplay} 
                        **C√¢u ${index + 1}:** ${result.color.vn.toUpperCase()} (${result.color.en}) - 
                        <span class="${statusClass}">**${status}**</span>
                    </p>
                    <p style="margin-top: -10px; font-size: 0.9em;">
                        &nbsp; &nbsp; &nbsp; &nbsp; ƒê√°p √°n b·∫°n ch·ªçn: **${result.selectedAnswer}**
                    </p>
                `;
                detailsContainer.appendChild(item);
            });
        }

        // Kh·ªüi t·∫°o Quiz l·∫ßn ƒë·∫ßu (kh√¥ng x√°o tr·ªôn)
        window.onload = () => resetQuiz(false);

    </script>
</body>

</html>

